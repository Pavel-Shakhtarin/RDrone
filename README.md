# RDrone

Небольшое демо видео с визуализацией:
https://youtu.be/OjmyBbcyAE8

## RDroneClient

#### **Состоит из web сервера и RSocket клиента**

- С помощью **POST** запроса получает желаемое количество(**n**) "дронов"
- Создает **n** **RSocket** подключений к серверу
- Каждое подключение обратно получает стрим, в который дрон на стороне сервера периодически помещает объекты `Target(timestamp: Long, lat: Double, lng: Double)`
- Полученные объекты сохраняются в базу данных

## RDroneServer
#### **Состоит из RSocket + WebSocket сервера и libGDX/KTX для 3D визуализации**

- Создает массив **m** x **m** x **m** (далее `мир`), репрезентующий пространство, в котором движутся дроны 
- Каждой ячейке пространства присваивается **цена** от 0 до **x**
- В некоторые ячейки с нулевой сложностью помещаются объекты **Target**
- При подключении клиента по **RSocket** сервер помещает дрон в случайную ячейку (с нулевой ценой) пространства внутри `мира`
- Дрон внутри пространства движется ортогонально
- После создания дрон циклично выполняет действия:
  1. Получает "область видимости" **v** x **v** x **v**, с центром в точке, где находится дрон, которая является сабмассивом `мира`
  2. Анализирует полученный массив. Если одна из ячеек содержит **Target**, дрон выбирает ее в качестве точки назначения. Если целей нет, в качестве точки назначения выбирается случайная ячейка (с нулевой ценой) на одной из границ области видимости дрона
  3. Рассчитывает наиболее дешевый путь до точки назначения внутри области видимости
  4. Движется к точке назначения
  5. Если точкой назначения был **Target**, при его достижении, данные из объекта отправляются в **RSocket** стрим, привязанный к дрону